"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.requestAuthenticationTool = void 0;
const tslib_1 = require("tslib");
const generateUI_1 = require("../../generateUI");
const DainResponse_1 = require("../../DainResponse");
const requestAuthenticationTool = (_a, _b) => tslib_1.__awaiter(void 0, [_a, _b], void 0, function* ({ provider, logo }, { app, agentInfo }) {
    var _c;
    const authUrl = yield ((_c = app.oauth2) === null || _c === void 0 ? void 0 : _c.generateAuthUrl('google', agentInfo.id));
    const ui = new generateUI_1.OAuthUIBuilder()
        .title(`Please authenticate with ${provider} first`)
        .content(`Please authenticate with ${provider} first`)
        .url(authUrl !== null && authUrl !== void 0 ? authUrl : '')
        .logo(logo)
        .build();
    return new DainResponse_1.DainResponse({
        text: `Please authenticate with ${provider} first`,
        data: {},
        ui,
    });
});
exports.requestAuthenticationTool = requestAuthenticationTool;
//# sourceMappingURL=requestAuthenticationUI..js.map